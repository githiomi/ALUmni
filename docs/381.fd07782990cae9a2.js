"use strict";(self.webpackChunkALUmni=self.webpackChunkALUmni||[]).push([[381],{4381:(at,h,s)=>{s.r(h),s.d(h,{EventsComponent:()=>it});var l=s(6814),t=s(5879),_=s(617),v=s(5195),g=s(8525),u=s(2296),Z=s(2333),x=s(1457),p=s(4170),A=s(3712),m=s(7700),N=s(1586),C=s(2939),E=s(2032),f=s(3680),d=s(8034),T=s(5940),a=s(6223);function O(n,r){1&n&&(t.TgZ(0,"small",29),t._uU(1,"Event Title is required!"),t.qZA())}function y(n,r){1&n&&(t.TgZ(0,"small",29),t._uU(1,"Event Description is required!"),t.qZA())}function U(n,r){1&n&&(t.TgZ(0,"small",29),t._uU(1,"Event Date is required!"),t.qZA())}function q(n,r){1&n&&(t.TgZ(0,"small",29),t._uU(1,"Event Duration is required!"),t.qZA())}function M(n,r){if(1&n&&(t.TgZ(0,"mat-option",30),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e,"")}}function F(n,r){if(1&n&&(t.TgZ(0,"mat-option",30),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",e,"")}}function I(n,r){1&n&&(t.TgZ(0,"small",29),t._uU(1,"Attendee Limit is required!"),t.qZA())}function k(n,r){1&n&&(t.TgZ(0,"small",29),t._uU(1,"Event Banner is required!"),t.qZA())}function P(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.submitForm(o.newEventForm))}),t.TgZ(1,"mat-icon"),t._uU(2,"create"),t.qZA(),t._uU(3,"Create Event "),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",e.newEventForm.invalid)}}function D(n,r){1&n&&t._UZ(0,"mat-progress-spinner")}let J=(()=>{class n{constructor(e){this._dialogReference=e,this._authService=(0,t.f3M)(Z.e),this._formBuilder=(0,t.f3M)(a.qu),this._eventService=(0,t.f3M)(x.P),this.loading=!1,this.newEventFormInit(),this.eventLocations$=this._eventService.eventLocations,this.eventCategories$=this._eventService.eventCategories}newEventFormInit(){this.newEventForm=this._formBuilder.group({eventTitle:new a.NI("",[a.kI.required]),eventDescription:new a.NI("",[a.kI.required]),eventDate:new a.NI("",[a.kI.required]),eventDuration:new a.NI("",[a.kI.required]),eventCategory:new a.NI("",[a.kI.required]),venue:new a.NI("",[a.kI.required]),attendeeLimit:new a.NI("",[a.kI.required,a.kI.minLength(1)]),createdBy:new a.NI(this._authService.authenticatedUser()?.username,[a.kI.required]),eventBanner:new a.NI("")})}submitForm(e){if(e.invalid)return void console.log("Form is invalid");this.loading=!0;const i=e.value,o={eventTitle:i.eventTitle,eventBanner:i.eventBanner,venue:i.venue,eventDescription:i.eventDescription,eventDuration:i.eventDuration,eventDate:i.eventDate,attendeeLimit:i.attendeeLimit,eventCategory:i.eventCategory,createdBy:i.createdBy};this._eventService.postNewEvent(o).subscribe(c=>{console.log(c),console.log("new event",o),this.loading=!1,this._dialogReference.close(!0)},c=>{this.loading=!1,this._dialogReference.close(!1)})}static#t=this.\u0275fac=function(i){return new(i||n)(t.Y36(m.so))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-new-event"]],standalone:!0,features:[t.jDz],decls:66,vars:13,consts:[["id","newEvent"],[1,"background"],["src","./../../../../assets/images/campus_background.jpg","alt","New Event Background Image"],[1,"overlay"],[1,"header"],["mat-dialog-title","",1,"uppercase","text-red-600","font-semibold"],["color","basic","mat-mini-fab","","mat-dialog-close","",1,"cancel"],[1,"text-red-600"],[3,"formGroup","ngSubmit"],["form","ngForm"],[1,"row"],["appearance","outline",1,"w-full"],["matInput","","type","text","formControlName","eventTitle"],["class","text-red-600 text-xs text-end py-1",4,"ngIf"],["matInput","","type","text","formControlName","eventDescription"],[1,"flex","items-center","justify-between","gap-8"],["matInput","","formControlName","eventDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["picker",""],["matInput","","type","text","formControlName","eventDuration"],["appearance","outline"],["formControlName","eventCategory"],[3,"value",4,"ngFor","ngForOf"],["formControlName","venue"],["matInput","","type","number","formControlName","attendeeLimit"],["matInput","","type","text","formControlName","eventBanner","placeholder","Image URL"],["mat-dialog-actions","",1,"actions","p-4"],["class","appButton","mat-raised-button","",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"text-red-600","text-xs","text-end","py-1"],[3,"value"],["mat-raised-button","",1,"appButton",3,"disabled","click"]],template:function(i,o){if(1&i&&(t.TgZ(0,"section",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t._UZ(3,"div",3),t.TgZ(4,"div",4)(5,"h1",5),t._uU(6," Create a new event "),t.qZA(),t.TgZ(7,"button",6)(8,"mat-icon",7),t._uU(9,"close"),t.qZA()()(),t.TgZ(10,"mat-dialog-content")(11,"mat-card")(12,"mat-card-content")(13,"form",8,9),t.NdJ("ngSubmit",function(){return o.submitForm(o.newEventForm)}),t.TgZ(15,"div",10)(16,"mat-form-field",11)(17,"mat-label"),t._uU(18,"Event Title"),t.qZA(),t._UZ(19,"input",12),t.YNc(20,O,2,0,"small",13),t.qZA()(),t.TgZ(21,"div",10)(22,"mat-form-field",11)(23,"mat-label"),t._uU(24,"Short Description"),t.qZA(),t._UZ(25,"textarea",14),t.YNc(26,y,2,0,"small",13),t.qZA()(),t.TgZ(27,"div",15)(28,"mat-form-field",11)(29,"mat-label"),t._uU(30,"Event Date"),t.qZA(),t._UZ(31,"input",16)(32,"mat-datepicker-toggle",17)(33,"mat-datepicker",null,18),t.YNc(35,U,2,0,"small",13),t.qZA(),t.TgZ(36,"mat-form-field",11)(37,"mat-label"),t._uU(38,"Event Duration"),t.qZA(),t._UZ(39,"input",19),t.YNc(40,q,2,0,"small",13),t.qZA()(),t.TgZ(41,"div",15)(42,"mat-form-field",20)(43,"mat-label"),t._uU(44,"Event Category"),t.qZA(),t.TgZ(45,"mat-select",21),t.YNc(46,M,2,2,"mat-option",22),t.qZA()(),t.TgZ(47,"mat-form-field",20)(48,"mat-label"),t._uU(49,"Event Venue"),t.qZA(),t.TgZ(50,"mat-select",23),t.YNc(51,F,2,2,"mat-option",22),t.qZA()()(),t.TgZ(52,"div",15)(53,"mat-form-field",20)(54,"mat-label"),t._uU(55,"Attendee Limit"),t.qZA(),t._UZ(56,"input",24),t.YNc(57,I,2,0,"small",13),t.qZA(),t.TgZ(58,"mat-form-field",11)(59,"mat-label"),t._uU(60,"Event Banner URL"),t.qZA(),t._UZ(61,"input",25),t.YNc(62,k,2,0,"small",13),t.qZA()()()()()(),t.TgZ(63,"div",26),t.YNc(64,P,4,1,"button",27),t.YNc(65,D,1,0,"mat-progress-spinner",28),t.qZA()()),2&i){const c=t.MAs(14),w=t.MAs(34);t.xp6(13),t.Q6J("formGroup",o.newEventForm),t.xp6(7),t.Q6J("ngIf",(o.newEventForm.controls.eventTitle.dirty||c.submitted)&&o.newEventForm.controls.eventTitle.invalid),t.xp6(6),t.Q6J("ngIf",(o.newEventForm.controls.eventDescription.dirty||c.submitted)&&o.newEventForm.controls.eventDescription.invalid),t.xp6(5),t.Q6J("matDatepicker",w),t.xp6(1),t.Q6J("for",w),t.xp6(3),t.Q6J("ngIf",(o.newEventForm.controls.eventDate.dirty||c.submitted)&&o.newEventForm.controls.eventDate.invalid),t.xp6(5),t.Q6J("ngIf",(o.newEventForm.controls.eventDuration.dirty||c.submitted)&&o.newEventForm.controls.eventDuration.invalid),t.xp6(6),t.Q6J("ngForOf",o.eventCategories$),t.xp6(5),t.Q6J("ngForOf",o.eventLocations$),t.xp6(6),t.Q6J("ngIf",(o.newEventForm.controls.attendeeLimit.dirty||c.submitted)&&o.newEventForm.controls.attendeeLimit.invalid),t.xp6(5),t.Q6J("ngIf",(o.newEventForm.controls.eventBanner.dirty||c.submitted)&&o.newEventForm.controls.eventBanner.invalid),t.xp6(2),t.Q6J("ngIf",!o.loading),t.xp6(1),t.Q6J("ngIf",o.loading)}},dependencies:[l.ez,l.sg,l.O5,m.Is,m.ZT,m.uh,m.xY,m.H8,a.UX,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,p.lN,p.KE,p.hX,p.R9,E.c,E.Nt,g.LD,g.gD,f.ey,v.QW,v.a8,v.dn,u.ot,u.lW,u.nh,_.Ps,_.Hw,T.Cq,T.Ou,d.FA,d.Mq,d.hl,d.nW,f.XK],styles:['#newEvent[_ngcontent-%COMP%]{height:100%;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#f5f5f5}.background[_ngcontent-%COMP%], .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.background[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{pointer-events:none;width:100%;height:100%;object-fit:cover;object-position:top;z-index:-10}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(var(--var-black),var(--var-overlay-color));opacity:.8}.header[_ngcontent-%COMP%]{width:90%;margin:0 auto;padding:1rem;position:relative;display:grid;place-items:center}h1[_ngcontent-%COMP%]{color:var(--var-primary-red)!important;font-size:35px!important;font-weight:bolder}.cancel[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem}mat-dialog-content[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{width:70%;padding-top:.5rem;position:relative}div[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{flex:1}small[_ngcontent-%COMP%]{margin:0 1rem}small[_ngcontent-%COMP%]:before{content:"*";color:var(--var-primary-red)}textarea[_ngcontent-%COMP%]{height:200px;scrollbar-width:none;-ms-overflow-style:none}textarea[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.cancel[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{transform:rotate(90deg) scale(1.1);transition:all .2s ease-in-out}.edit[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%], .delete[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%], .favourites[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}']})}return n})();var L=s(7711);function Q(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openDetailsDialog(!0))}),t.TgZ(1,"mat-icon"),t._uU(2,"create"),t.qZA()()}}let B=(()=>{class n{constructor(){this._matDialog=(0,t.f3M)(m.uw),this.eventListEmitter=new t.vpe}openDetailsDialog(e){this._matDialog.open(L.q,{data:{editState:e,deleteFlag:this.isOwner,dialogData:this._event$},width:"70%",height:"80%",autoFocus:!1,disableClose:!0,enterAnimationDuration:700,exitAnimationDuration:700}).afterClosed().subscribe(o=>this.eventListEmitter.emit(o))}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-event-list"]],inputs:{_event$:"_event$",isOwner:"isOwner"},outputs:{eventListEmitter:"eventListEmitter"},standalone:!0,features:[t.jDz],decls:30,vars:9,consts:[["id","eventList"],[1,"eventBanner"],["alt","Event Image Banner",3,"src"],[1,"eventDetails","flex","flex-col","justify-between"],[1,"eventTitle","uppercase"],[1,"text-2xl","font-semibold"],[1,"eventCategory","block","text-sm","font-semibold"],[1,"eventDescription"],[1,"info","flex","items-center","justify-between"],[1,"venue"],[1,"label","text-base","uppercase","font-semibold","text-red-600","mr-2"],[1,"font-semibold"],[1,"date"],[1,"viewMore","flex","flex-col","gap-4","justify-center","items-center"],["color","basic","mat-mini-fab","","class","appButton",3,"click",4,"ngIf"],["color","basic","mat-mini-fab","",1,"appButton",3,"click"]],template:function(i,o){1&i&&(t.TgZ(0,"section",0)(1,"div",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3)(4,"h2",4)(5,"code",5),t._uU(6),t.qZA(),t.TgZ(7,"span",6)(8,"code")(9,"em"),t._uU(10),t.qZA()()()(),t.TgZ(11,"p",7),t._uU(12),t.qZA(),t.TgZ(13,"div",8)(14,"div",9)(15,"span",10),t._uU(16,"Venue:"),t.qZA(),t.TgZ(17,"code",11),t._uU(18),t.qZA()(),t.TgZ(19,"div",12)(20,"span",10),t._uU(21,"Date:"),t.qZA(),t.TgZ(22,"code",11),t._uU(23),t.ALo(24,"date"),t.qZA()()()(),t.TgZ(25,"div",13),t.YNc(26,Q,3,0,"button",14),t.TgZ(27,"button",15),t.NdJ("click",function(){return o.openDetailsDialog(!1)}),t.TgZ(28,"mat-icon"),t._uU(29,"arrow_forward"),t.qZA()()()()),2&i&&(t.xp6(2),t.Q6J("src",o._event$.eventBanner,t.LSH),t.xp6(4),t.Oqu(o._event$.eventTitle),t.xp6(4),t.Oqu(o._event$.eventCategory),t.xp6(2),t.hij(" ",o._event$.eventDescription," "),t.xp6(6),t.Oqu(o._event$.venue),t.xp6(5),t.Oqu(t.lcZ(24,7,o._event$.eventDate)),t.xp6(3),t.Q6J("ngIf",o.isOwner))},dependencies:[l.ez,l.O5,l.uU,u.ot,u.nh,_.Ps,_.Hw,m.Is],styles:['#eventList[_ngcontent-%COMP%]{height:250px;width:100%;margin:2rem auto;overflow:hidden;border-radius:1rem;background-color:var(--var-white);border:1px solid var(--var-primary-red);box-shadow:1px 1px .3rem var(--var-primary-red);display:flex;gap:3rem;justify-content:flex-start;position:relative;transition:all .5s ease-in}#eventList[_ngcontent-%COMP%]:hover   .viewMore[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], #eventList[_ngcontent-%COMP%]:hover   .eventBanner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05);transition:all .5s ease-in-out}#eventList[_ngcontent-%COMP%]:hover{transform:scale(.99);box-shadow:2px 2px .5rem var(--var-primary-red);transition:all .5s ease-in-out}.eventBanner[_ngcontent-%COMP%]{width:30%;height:100%}.eventBanner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:100%;min-height:100%;object-fit:cover;transition:all .5s ease-in-out}.eventDetails[_ngcontent-%COMP%]{margin:2rem auto;width:70%}.eventCategory[_ngcontent-%COMP%]:before{content:"*";color:var(--var-primary-red)}.eventDescription[_ngcontent-%COMP%]{width:85%;padding:0 1rem;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;overflow:hidden;text-wrap:balance}.info[_ngcontent-%COMP%]{width:80%}.viewMore[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);right:2rem}.viewMore[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{transform:scale(0)}']})}return n})();var b=s(1342);function S(n,r){if(1&n&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e,"")}}function Y(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(o){t.CHM(e);const c=t.oxw();return t.KtG(c.clearInputControl(o,"eventCategory"))}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function $(n,r){if(1&n&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e),t.xp6(1),t.hij(" ",e,"")}}function j(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(o){t.CHM(e);const c=t.oxw();return t.KtG(c.clearInputControl(o,"eventLocation"))}),t.TgZ(1,"mat-icon"),t._uU(2,"close"),t.qZA()()}}function H(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.clearFilters())}),t._uU(1," Clear All Filters... "),t.qZA()}}function G(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-event-list",34),t.NdJ("eventListEmitter",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.getEvents())}),t.qZA(),t.BQk()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("_event$",e)("isOwner",!0)}}function K(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",28)(2,"p",29),t._uU(3," Your Events "),t.TgZ(4,"span",30),t._uU(5),t.qZA()(),t.TgZ(6,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.createNewEvent())}),t.TgZ(7,"mat-icon"),t._uU(8,"create"),t.qZA(),t._uU(9," Create New Event "),t.qZA()(),t.TgZ(10,"div",32),t.YNc(11,G,2,2,"ng-container",33),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(5),t.hij("(",e.userEvents.length,")"),t.xp6(6),t.Q6J("ngForOf",e.userEvents)}}function z(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",36)(1,"code",37)(2,"em"),t._uU(3,"You have not created any events!"),t.qZA()(),t.TgZ(4,"div",38),t._UZ(5,"ng-lottie",39),t.qZA(),t.TgZ(6,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.createNewEvent())}),t.TgZ(7,"mat-icon"),t._uU(8,"create"),t.qZA(),t._uU(9," Create New Event "),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(5),t.Q6J("options",e.noDataAnimationOptions)}}function R(n,r){if(1&n&&t.YNc(0,z,10,1,"div",35),2&n){const e=t.oxw(2);t.Q6J("ngIf",0!=e.events.length)}}function W(n,r){if(1&n&&(t.ynx(0),t.YNc(1,K,12,2,"ng-container",21),t.YNc(2,R,1,1,"ng-template",null,27,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",0!=i.userEvents.length)("ngIfElse",e)}}function X(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",36)(1,"code",41)(2,"em"),t._uU(3,"Fetching event data from the database. Please wait..."),t.qZA()(),t.TgZ(4,"div",38),t._UZ(5,"ng-lottie",39),t.qZA()(),t.TgZ(6,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.createNewEvent())}),t.TgZ(7,"mat-icon"),t._uU(8,"create"),t.qZA(),t._uU(9," Create New Event "),t.qZA()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("options",e.fetchingAnimationOptions)}}function V(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-event-list",34),t.NdJ("eventListEmitter",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.getEvents())}),t.qZA(),t.BQk()}if(2&n){const e=r.$implicit;t.xp6(1),t.Q6J("_event$",e)("isOwner",!1)}}function tt(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",28)(2,"p",29),t._uU(3," Scheduled Events "),t.TgZ(4,"span",30),t._uU(5),t.qZA()()(),t.TgZ(6,"div",32),t.YNc(7,V,2,2,"ng-container",33),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.hij("(",e.events.length,")"),t.xp6(2),t.Q6J("ngForOf",e.events)}}function et(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",36)(1,"code",37)(2,"em"),t._uU(3,"No event data was found on the database!"),t.qZA()(),t.TgZ(4,"div",38),t._UZ(5,"ng-lottie",39),t.qZA(),t.TgZ(6,"button",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.createNewEvent())}),t.TgZ(7,"mat-icon"),t._uU(8,"create"),t.qZA(),t._uU(9," Create New Event "),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("options",e.noDataAnimationOptions)}}function nt(n,r){if(1&n&&(t.ynx(0),t.YNc(1,tt,8,2,"ng-container",21),t.YNc(2,et,10,1,"ng-template",null,42,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.events.length>0)("ngIfElse",e)}}function ot(n,r){if(1&n&&(t.TgZ(0,"div",36)(1,"code",41)(2,"em"),t._uU(3,"Fetching event data from the database. Please wait..."),t.qZA()(),t.TgZ(4,"div",38),t._UZ(5,"ng-lottie",39),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.Q6J("options",e.fetchingAnimationOptions)}}let it=(()=>{class n{constructor(){this._authService=(0,t.f3M)(Z.e),this._matDialog=(0,t.f3M)(m.uw),this._matSnackBar=(0,t.f3M)(C.ux),this._formBuilder=(0,t.f3M)(a.qu),this._eventService=(0,t.f3M)(x.P),this._snackbarService=(0,t.f3M)(A.o),this._animationService=(0,t.f3M)(N.Y),this.noDataAnimationOptions={path:this._animationService.getNoDataAnimationPath()},this.fetchingAnimationOptions={path:this._animationService.getLoadingAnimationPath()},this.fetching=!0,this.eventYears$=this._eventService.years,this.eventLocations$=this._eventService.eventLocations,this.eventCategories$=this._eventService.eventCategories}ngOnInit(){this.getEvents(),this.filterFormInit()}filterFormInit(){this.filterForm=this._formBuilder.group({eventCategory:new a.NI(""),eventLocation:new a.NI("")},{updateOn:"blur"})}getEvents(){this.fetching=!0,this._eventService.getAllEvents().subscribe(e=>{this.fetching=!1,this.events=e.resource,this.userEvents=e.resource.filter(i=>i.createdBy===this._authService.authenticatedUser()?.username),this.events=e.resource},e=>{this.fetching=!1,this._snackbarService.openSnackBar("Error! Could not retrieve events from the database","CLOSE")})}clearInputControl(e,i){e.stopPropagation(),this.filterForm.controls[i].setValue("")}clearFilters(){this.filterForm.reset(),this.getEvents()}submitFilterForm(e){const i=e.value;i.eventCategory||i.eventLocation?this.filterEvents(i):this._snackbarService.openSnackBar("No filter action was specified.","CLOSE")}filterEvents({eventCategory:e,eventLocation:i}){e&&i&&(this.events=this.events.filter(o=>o.eventCategory===e&&o.venue===i)),this.events=this.events.filter(o=>o.eventCategory===e||o.venue===i)}createNewEvent(){this._matDialog.open(J,{data:{editState:!0,dialogData:null},width:"70%",height:"80%",autoFocus:!1,disableClose:!0,enterAnimationDuration:700,exitAnimationDuration:700}).afterClosed().subscribe(i=>{switch(i){case!0:this._matSnackBar.open("You have successfully created a new event.","Close",{duration:3e3,horizontalPosition:"start"}),this.getEvents();break;case!1:this._matSnackBar.open("Error creating a new event. Try again later.","Close",{duration:3e3})}})}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-events"]],standalone:!0,features:[t.jDz],decls:50,vars:11,consts:[[1,"home"],[1,"hero","flex","justify-center","items-center","flex-col"],[1,"linedTextLight","uppercase","text-center","text-2xl"],[1,"horizontalLine"],[1,"uppercase"],[1,"eventFilter"],[1,"flex","flex-col","text-center","items-center"],[1,"text-3xl"],[1,"linedTextDark","uppercase","text-center","text-lg"],[1,"text-center","text-2xl","uppercase","pt-10","font-bold"],[3,"formGroup"],[1,"formRow"],["appearance","outline"],["formControlName","eventCategory"],[3,"value",4,"ngFor","ngForOf"],["color","basic","class","appButton","matSuffix","","mat-mini-fab","","aria-label","clear",3,"click",4,"ngIf"],["formControlName","eventLocation"],["class","clear w-full text-end text-blue-600",3,"click",4,"ngIf"],[1,"grid","place-items-center"],["mat-raised-button","",1,"appButton",3,"disabled","click"],[1,"events"],[4,"ngIf","ngIfElse"],["fetchingEvents",""],[1,"events","mb-4"],[3,"value"],["color","basic","matSuffix","","mat-mini-fab","","aria-label","clear",1,"appButton",3,"click"],[1,"clear","w-full","text-end","text-blue-600",3,"click"],["noUserEvents",""],[1,"header","flex","justify-between","items-center"],[1,"text-3xl","uppercase","font-bold"],[1,"text-red-600"],["mat-raised-button","",1,"appButton","py-2",3,"click"],[1,"mt-8"],[4,"ngFor","ngForOf"],[3,"_event$","isOwner","eventListEmitter"],["class","info flex flex-col justify-around items-center",4,"ngIf"],[1,"info","flex","flex-col","justify-around","items-center"],[1,"font-semibold","text-base"],[1,"animation"],[3,"options"],["mat-raised-button","",1,"appButton","py-2","my-4",3,"click"],[1,"font-semibold"],["noEvents",""]],template:function(i,o){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t._uU(4," Dhosio University "),t._UZ(5,"div",3),t.qZA(),t.TgZ(6,"p",4),t._uU(7," View All Our "),t.qZA(),t.TgZ(8,"p",4),t._uU(9," Upcoming Events "),t.qZA()(),t.TgZ(10,"div",5)(11,"mat-card")(12,"mat-card-header",6)(13,"p",7),t._uU(14,"DHOSIO UNIVERSITY"),t.qZA(),t.TgZ(15,"div",8),t._UZ(16,"div",3),t._uU(17," Educate The Whole Person "),t._UZ(18,"div",3),t.qZA()(),t.TgZ(19,"mat-card-content")(20,"p",9),t._uU(21," Filter Events "),t.qZA(),t.TgZ(22,"form",10)(23,"div",11)(24,"mat-form-field",12)(25,"mat-label"),t._uU(26,"Event Category"),t.qZA(),t.TgZ(27,"mat-select",13),t.YNc(28,S,2,2,"mat-option",14),t.qZA(),t.YNc(29,Y,3,0,"button",15),t.qZA(),t.TgZ(30,"mat-form-field",12)(31,"mat-label"),t._uU(32,"Event Location"),t.qZA(),t.TgZ(33,"mat-select",16),t.YNc(34,$,2,2,"mat-option",14),t.qZA(),t.YNc(35,j,3,0,"button",15),t.qZA()(),t.YNc(36,H,2,0,"div",17),t.qZA()(),t.TgZ(37,"mat-card-footer",18)(38,"button",19),t.NdJ("click",function(){return o.submitFilterForm(o.filterForm)}),t.TgZ(39,"mat-icon"),t._uU(40,"filter_list"),t.qZA(),t._uU(41,"Apply "),t.qZA()()()(),t.TgZ(42,"div",20),t.YNc(43,W,4,2,"ng-container",21),t.YNc(44,X,10,1,"ng-template",null,22,t.W1O),t.qZA(),t.TgZ(46,"div",23),t.YNc(47,nt,4,2,"ng-container",21),t.YNc(48,ot,6,1,"ng-template",null,22,t.W1O),t.qZA()()),2&i){const c=t.MAs(45);t.xp6(22),t.Q6J("formGroup",o.filterForm),t.xp6(6),t.Q6J("ngForOf",o.eventCategories$),t.xp6(1),t.Q6J("ngIf",o.filterForm.controls.eventCategory.value),t.xp6(5),t.Q6J("ngForOf",o.eventLocations$),t.xp6(1),t.Q6J("ngIf",o.filterForm.controls.eventLocation.value),t.xp6(1),t.Q6J("ngIf",!o.filterForm.pristine),t.xp6(2),t.Q6J("disabled",o.filterForm.invalid),t.xp6(5),t.Q6J("ngIf",!o.fetching)("ngIfElse",c),t.xp6(4),t.Q6J("ngIf",!o.fetching)("ngIfElse",c)}},dependencies:[l.ez,l.sg,l.O5,v.QW,v.a8,v.dn,v.rt,v.dk,u.ot,u.lW,u.nh,_.Ps,_.Hw,a.UX,a._Y,a.JJ,a.JL,a.sg,a.u,p.lN,p.KE,p.hX,p.R9,g.LD,g.gD,f.ey,C.ZX,b.CT,b.e$,B],styles:["mat-card[_ngcontent-%COMP%]{padding:3rem 0 0;box-shadow:3px 3px .1rem var(--var-primary-red);width:50%;transform:translateY(-10vh)}mat-card-footer[_ngcontent-%COMP%]{padding:1rem 0}form[_ngcontent-%COMP%]{margin:1rem auto;width:80%}.formRow[_ngcontent-%COMP%]{width:100%;display:flex!important;justify-content:space-between;align-items:center;margin:1rem 0;gap:6rem}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-label[_ngcontent-%COMP%]{font-size:15px!important}.clear[_ngcontent-%COMP%]{cursor:pointer}.clear[_ngcontent-%COMP%]:hover{transform:scale(1.01);text-decoration:underline;transition:all .3s ease-in-out}.events[_ngcontent-%COMP%]{width:70%;margin:1rem auto}.animation[_ngcontent-%COMP%]{width:400px;height:400px;margin:1rem 0}"]})}return n})()}}]);